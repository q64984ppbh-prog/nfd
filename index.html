<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFT –†—É–ª–µ—Ç–∫–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-color: #0f0f23;
            --card-bg: #1a1a2e;
            --accent-color: #6a11cb;
            --secondary-color: #2575fc;
            --text-color: #ffffff;
            --secondary-text: #b0b0b0;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            padding-bottom: 80px;
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 10px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 10px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            box-shadow: var(--shadow);
        }
        
        .balance-container {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .balance {
            font-size: 18px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .balance.stars {
            color: #ffd700;
        }
        
        .balance.diamonds {
            color: #4fc3f7;
        }
        
        .top-up-btn {
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .tabs {
            display: flex;
            justify-content: space-around;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            padding: 8px;
            box-shadow: var(--shadow);
        }
        
        .tab {
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            flex: 1;
        }
        
        .tab.active {
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
        }
        
        .main-content {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: var(--shadow);
        }
        
        .section-title {
            font-size: 18px;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .roulette-container {
            position: relative;
            margin: 20px auto;
            width: 300px;
            height: 300px;
        }
        
        .roulette-wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                #ff5252 0deg 30deg,
                #ff9800 30deg 60deg,
                #ffeb3b 60deg 90deg,
                #4caf50 90deg 120deg,
                #2196f3 120deg 150deg,
                #9c27b0 150deg 180deg,
                #e91e63 180deg 210deg,
                #795548 210deg 240deg,
                #607d8b 240deg 270deg,
                #00bcd4 270deg 300deg,
                #8bc34a 300deg 330deg,
                #ff5722 330deg 360deg
            );
            position: relative;
            transition: transform 5s cubic-bezier(0.2, 0.8, 0.3, 1);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }
        
        .roulette-pointer {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 30px;
            background-color: #fff;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            z-index: 10;
        }
        
        .bet-controls {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }
        
        .bet-amount {
            display: flex;
            align-items: center;
            gap: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: var(--border-radius);
        }
        
        .bet-btn {
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: var(--border-radius);
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .bet-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .currency-toggle {
            display: flex;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            padding: 5px;
            margin: 15px 0;
        }
        
        .currency-option {
            flex: 1;
            text-align: center;
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
        }
        
        .currency-option.active {
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
        }
        
        .history {
            margin-top: 20px;
        }
        
        .history-title {
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        .history-list {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
        }
        
        .history-item {
            min-width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--card-bg);
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            border-top-left-radius: var(--border-radius);
            border-top-right-radius: var(--border-radius);
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
        }
        
        .nav-icon {
            width: 24px;
            height: 24px;
            background-color: var(--secondary-text);
            border-radius: 50%;
        }
        
        .nav-item.active .nav-icon {
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
        }
        
        .nav-text {
            font-size: 12px;
            color: var(--secondary-text);
        }
        
        .nav-item.active .nav-text {
            color: var(--text-color);
        }
        
        .welcome-popup {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }
        
        .popup-content {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            text-align: center;
            max-width: 300px;
            width: 90%;
            box-shadow: var(--shadow);
        }
        
        .popup-title {
            font-size: 20px;
            margin-bottom: 15px;
        }
        
        .popup-text {
            margin-bottom: 20px;
            color: var(--secondary-text);
        }
        
        .bonus-btn {
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
            border: none;
            color: white;
            padding: 12px 30px;
            border-radius: var(--border-radius);
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
        }
        
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        .inventory-item {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            padding: 15px;
            text-align: center;
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .item-icon {
            width: 40px;
            height: 40px;
            background-color: var(--secondary-text);
            border-radius: 50%;
            margin-bottom: 10px;
        }
        
        .item-name {
            font-size: 12px;
        }
        
        .profile-info {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--secondary-text);
        }
        
        .user-details {
            flex: 1;
        }
        
        .username {
            font-size: 18px;
            font-weight: bold;
        }
        
        .user-handle {
            color: var(--secondary-text);
        }
        
        .profile-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .profile-btn {
            background-color: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 12px;
            border-radius: var(--border-radius);
            text-align: left;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ–ø–∞–ø -->
    <div class="welcome-popup" id="welcomePopup">
        <div class="popup-content">
            <h2 class="popup-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
            <p class="popup-text">–ü–æ–ª—É—á–∏ 500 üíé –≤ –ø–æ–¥–∞—Ä–æ–∫!</p>
            <button class="bonus-btn" id="claimBonusBtn">–ó–∞–±—Ä–∞—Ç—å –±–æ–Ω—É—Å</button>
        </div>
    </div>

    <div class="container">
        <!-- –®–∞–ø–∫–∞ —Å –±–∞–ª–∞–Ω—Å–∞–º–∏ -->
        <div class="header">
            <div class="balance-container">
                <div class="balance stars">0.05 Stars</div>
                <div class="balance diamonds">500 üíé</div>
            </div>
            <button class="top-up-btn">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∏ -->
        <div class="tabs">
            <div class="tab active" data-tab="roulette">NFT –†—É–ª–µ—Ç–∫–∞</div>
            <div class="tab" data-tab="slots">–°–ª–æ—Ç—ã</div>
            <div class="tab" data-tab="free">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</div>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content" id="rouletteTab">
            <h2 class="section-title">NFT –†—É–ª–µ—Ç–∫–∞</h2>
            
            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä—É–ª–µ—Ç–∫–∏ -->
            <div class="roulette-container">
                <div class="roulette-pointer"></div>
                <div class="roulette-wheel" id="rouletteWheel"></div>
            </div>
            
            <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–∞–ª—é—Ç—ã -->
            <div class="currency-toggle">
                <div class="currency-option active" data-currency="diamonds">üíé –ê–ª–º–∞–∑—ã</div>
                <div class="currency-option" data-currency="stars">‚≠ê Stars</div>
            </div>
            
            <!-- –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞–≤–∫–æ–π -->
            <div class="bet-controls">
                <div class="bet-amount">
                    <button id="decreaseBet">-</button>
                    <span id="currentBet">10</span>
                    <button id="increaseBet">+</button>
                </div>
                <button class="bet-btn" id="spinBtn">–ö—Ä—É—Ç–∏—Ç—å</button>
            </div>
            
            <!-- –ò—Å—Ç–æ—Ä–∏—è –≤—Ä–∞—â–µ–Ω–∏–π -->
            <div class="history">
                <div class="history-title">–ò—Å—Ç–æ—Ä–∏—è</div>
                <div class="history-list" id="historyList">
                    <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ —Å–ª–æ—Ç–æ–≤ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <div class="main-content" id="slotsTab" style="display: none;">
            <h2 class="section-title">–°–ª–æ—Ç—ã</h2>
            <p style="text-align: center; margin-top: 50px;">–†–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</p>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <div class="main-content" id="freeTab" style="display: none;">
            <h2 class="section-title">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</h2>
            <p style="text-align: center; margin-top: 50px;">–†–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</p>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <div class="main-content" id="inventoryTab" style="display: none;">
            <h2 class="section-title">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
            <p style="text-align: center; margin-bottom: 20px;">–ü–æ–¥–∞—Ä–∫–æ–≤ –Ω–µ—Ç</p>
            <p style="text-align: center; color: var(--secondary-text); margin-bottom: 20px;">
                –í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö —á–µ—Ä–µ–∑ –Ω–∞—à –±–æ—Ç @onecase_relayer
            </p>
            <h3 style="text-align: center; margin-bottom: 15px;">–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–∞—Ä–∫–∏?</h3>
            <div class="inventory-grid">
                <div class="inventory-item">
                    <div class="item-icon"></div>
                    <div class="item-name">NFT 1</div>
                </div>
                <div class="inventory-item">
                    <div class="item-icon"></div>
                    <div class="item-name">NFT 2</div>
                </div>
                <div class="inventory-item">
                    <div class="item-icon"></div>
                    <div class="item-name">NFT 3</div>
                </div>
                <div class="inventory-item">
                    <div class="item-icon"></div>
                    <div class="item-name">NFT 4</div>
                </div>
                <div class="inventory-item">
                    <div class="item-icon"></div>
                    <div class="item-name">NFT 5</div>
                </div>
                <div class="inventory-item">
                    <div class="item-icon"></div>
                    <div class="item-name">NFT 6</div>
                </div>
            </div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <div class="main-content" id="profileTab" style="display: none;">
            <h2 class="section-title">–ü—Ä–æ—Ñ–∏–ª—å</h2>
            <div class="profile-info">
                <div class="avatar"></div>
                <div class="user-details">
                    <div class="username">azotherm</div>
                    <div class="user-handle">@username</div>
                </div>
            </div>
            <div class="balance-container" style="margin-bottom: 20px;">
                <div class="balance stars">0.05 Stars</div>
                <div class="balance diamonds">500 üíé</div>
            </div>
            <div class="profile-actions">
                <button class="profile-btn">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                <button class="profile-btn">–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</button>
                <button class="profile-btn">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>
                <button class="profile-btn">–í—ã–≤–µ—Å—Ç–∏ üíé</button>
                <button class="profile-btn">–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</button>
            </div>
        </div>
    </div>
    
    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="bottom-nav">
        <div class="nav-item active" data-nav="inventory">
            <div class="nav-icon"></div>
            <div class="nav-text">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
        </div>
        <div class="nav-item" data-nav="paws">
            <div class="nav-icon"></div>
            <div class="nav-text">Paws</div>
        </div>
        <div class="nav-item" data-nav="games">
            <div class="nav-icon"></div>
            <div class="nav-text">–ò–≥—Ä—ã</div>
        </div>
        <div class="nav-item" data-nav="rating">
            <div class="nav-icon"></div>
            <div class="nav-text">–†–µ–π—Ç–∏–Ω–≥</div>
        </div>
        <div class="nav-item" data-nav="profile">
            <div class="nav-icon"></div>
            <div class="nav-text">–ü—Ä–æ—Ñ–∏–ª—å</div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.enableClosingConfirmation();
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const welcomePopup = document.getElementById('welcomePopup');
        const claimBonusBtn = document.getElementById('claimBonusBtn');
        const tabs = document.querySelectorAll('.tab');
        const navItems = document.querySelectorAll('.nav-item');
        const rouletteWheel = document.getElementById('rouletteWheel');
        const spinBtn = document.getElementById('spinBtn');
        const decreaseBetBtn = document.getElementById('decreaseBet');
        const increaseBetBtn = document.getElementById('increaseBet');
        const currentBetElement = document.getElementById('currentBet');
        const currencyOptions = document.querySelectorAll('.currency-option');
        const historyList = document.getElementById('historyList');
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        let currentBet = 10;
        let currentCurrency = 'diamonds';
        let isSpinning = false;
        let diamondsBalance = 500;
        let starsBalance = 0.05;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–µ—Ä–≤—ã–π –ª–∏ —ç—Ç–æ –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const isFirstVisit = !localStorage.getItem('visitedBefore');
            if (isFirstVisit) {
                welcomePopup.style.display = 'flex';
                localStorage.setItem('visitedBefore', 'true');
            } else {
                welcomePopup.style.display = 'none';
            }
            
            updateBalances();
            updateHistory();
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–∞
        claimBonusBtn.addEventListener('click', function() {
            diamondsBalance += 500;
            updateBalances();
            welcomePopup.style.display = 'none';
            showNotification('+500 üíé –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –≤–∞—à–µ–º —Å—á–µ—Ç–µ!');
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤–∫–ª–∞–¥–æ–∫
        tabs.forEach(tab => {
            tab.addEventListener('click', function() {
                tabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                document.getElementById('rouletteTab').style.display = 'none';
                document.getElementById('slotsTab').style.display = 'none';
                document.getElementById('freeTab').style.display = 'none';
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É
                const tabId = this.getAttribute('data-tab') + 'Tab';
                document.getElementById(tabId).style.display = 'block';
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        navItems.forEach(item => {
            item.addEventListener('click', function() {
                navItems.forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                document.getElementById('rouletteTab').style.display = 'none';
                document.getElementById('slotsTab').style.display = 'none';
                document.getElementById('freeTab').style.display = 'none';
                document.getElementById('inventoryTab').style.display = 'none';
                document.getElementById('profileTab').style.display = 'none';
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É
                const navId = this.getAttribute('data-nav') + 'Tab';
                document.getElementById(navId).style.display = 'block';
                
                // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω—ã –∏–≥—Ä—ã, –ø–æ–∫–∞–∑–∞—Ç—å –≤–∫–ª–∞–¥–∫—É —Ä—É–ª–µ—Ç–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                if (this.getAttribute('data-nav') === 'games') {
                    document.getElementById('rouletteTab').style.display = 'block';
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelector('.tab[data-tab="roulette"]').classList.add('active');
                }
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–≤–∫–∏
        decreaseBetBtn.addEventListener('click', function() {
            if (currentBet > 1) {
                currentBet -= 1;
                currentBetElement.textContent = currentBet;
            }
        });
        
        increaseBetBtn.addEventListener('click', function() {
            if (currentBet < 100) {
                currentBet += 1;
                currentBetElement.textContent = currentBet;
            }
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∞–ª—é—Ç—ã
        currencyOptions.forEach(option => {
            option.addEventListener('click', function() {
                currencyOptions.forEach(o => o.classList.remove('active'));
                this.classList.add('active');
                currentCurrency = this.getAttribute('data-currency');
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Ä–∞—â–µ–Ω–∏—è —Ä—É–ª–µ—Ç–∫–∏
        spinBtn.addEventListener('click', function() {
            if (isSpinning) return;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
            if (currentCurrency === 'diamonds' && diamondsBalance < currentBet) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞–ª–º–∞–∑–æ–≤!');
                return;
            }
            
            if (currentCurrency === 'stars' && starsBalance < currentBet) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ Stars!');
                return;
            }
            
            // –°–ø–∏–Ω —Ä—É–ª–µ—Ç–∫–∏
            isSpinning = true;
            spinBtn.disabled = true;
            
            // –í—ã—á–∏—Ç–∞–µ–º —Å—Ç–∞–≤–∫—É
            if (currentCurrency === 'diamonds') {
                diamondsBalance -= currentBet;
            } else {
                starsBalance -= currentBet;
            }
            updateBalances();
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–æ—Ç 0 –¥–æ 11)
            const result = Math.floor(Math.random() * 12);
            
            // –í—ã—á–∏—Å–ª—è–µ–º —É–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞ (5 –ø–æ–ª–Ω—ã—Ö –æ–±–æ—Ä–æ—Ç–æ–≤ + –ø–æ–∑–∏—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞)
            const degrees = 1800 + (result * 30); // 30 –≥—Ä–∞–¥—É—Å–æ–≤ –Ω–∞ —Å–µ–∫—Ç–æ—Ä
            
            // –í—Ä–∞—â–∞–µ–º —Ä—É–ª–µ—Ç–∫—É
            rouletteWheel.style.transform = `rotate(${degrees}deg)`;
            
            // –ñ–¥–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(function() {
                isSpinning = false;
                spinBtn.disabled = false;
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤—ã–∏–≥—Ä—ã—à
                let winMultiplier;
                if (result === 0) winMultiplier = 10; // –ö—Ä–∞—Å–Ω—ã–π x10
                else if (result < 3) winMultiplier = 5; // –û—Ä–∞–Ω–∂–µ–≤—ã–π x5
                else if (result < 6) winMultiplier = 3; // –ñ–µ–ª—Ç—ã–π x3
                else if (result < 9) winMultiplier = 2; // –ó–µ–ª–µ–Ω—ã–π x2
                else winMultiplier = 1.5; // –û—Å—Ç–∞–ª—å–Ω—ã–µ x1.5
                
                const winAmount = Math.floor(currentBet * winMultiplier);
                
                // –ó–∞—á–∏—Å–ª—è–µ–º –≤—ã–∏–≥—Ä—ã—à
                if (currentCurrency === 'diamonds') {
                    diamondsBalance += winAmount;
                } else {
                    starsBalance += winAmount;
                }
                updateBalances();
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                addToHistory(result, winAmount);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤—ã–∏–≥—Ä—ã—à–µ
                if (winMultiplier > 1) {
                    showNotification(`–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} ${currentCurrency === 'diamonds' ? 'üíé' : '‚≠ê'}`);
                }
            }, 5000);
        });
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–æ–≤
        function updateBalances() {
            document.querySelector('.balance.stars').textContent = starsBalance.toFixed(2) + ' Stars';
            document.querySelector('.balance.diamonds').textContent = diamondsBalance + ' üíé';
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—é
        function addToHistory(result, winAmount) {
            const historyItem = document.createElement('div');
            historyItem.className = 'history-item';
            
            // –¶–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            const colors = [
                '#ff5252', '#ff9800', '#ffeb3b', '#4caf50', 
                '#2196f3', '#9c27b0', '#e91e63', '#795548', 
                '#607d8b', '#00bcd4', '#8bc34a', '#ff5722'
            ];
            
            historyItem.style.backgroundColor = colors[result];
            historyItem.textContent = winAmount > currentBet ? 'WIN' : 'LOSE';
            
            historyList.prepend(historyItem);
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é 10 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
            if (historyList.children.length > 10) {
                historyList.removeChild(historyList.lastChild);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ (–ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ)
        function updateHistory() {
            // –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
            for (let i = 0; i < 5; i++) {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.style.backgroundColor = i % 2 === 0 ? '#4caf50' : '#ff5252';
                historyItem.textContent = i % 2 === 0 ? 'WIN' : 'LOSE';
                historyList.appendChild(historyItem);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message) {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            alert(message);
        }
        
        // –ò–º–∏—Ç–∞—Ü–∏—è Telegram API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
            const user = tg.initDataUnsafe.user;
            document.querySelector('.username').textContent = user.first_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
            document.querySelector('.user-handle').textContent = '@' + (user.username || 'username');
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        }
    </script>
</body>
</html>
